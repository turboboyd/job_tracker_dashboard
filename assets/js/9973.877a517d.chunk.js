/*! For license information please see 9973.877a517d.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkjob_tracker_dashboard=self.webpackChunkjob_tracker_dashboard||[]).push([[9973],{8904(e,t,n){n.d(t,{A:()=>a});const a=(0,n(9407).A)("sliders-horizontal",[["path",{d:"M10 5H3",key:"1qgfaw"}],["path",{d:"M12 19H3",key:"yhmn1j"}],["path",{d:"M14 3v4",key:"1sua03"}],["path",{d:"M16 17v4",key:"1q0r14"}],["path",{d:"M21 12h-9",key:"1o4lsq"}],["path",{d:"M21 19h-5",key:"1rlt1p"}],["path",{d:"M21 5h-7",key:"1oszz2"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M8 12H3",key:"a7s4jb"}]])},19973(e,t,n){n.r(t),n.d(t,{default:()=>D});var a=n(9916),s=n(96540),i=n(22022),r=n(20410),o=n(58752);function c(e){return"object"==typeof e&&null!==e}function l(e){if("string"!=typeof e)return null;const t=e.trim();return t.length>0?t:null}var d=n(96788),u=n(14859),m=n(92883),g=n(47058),f=n(97234),p=n(82207),h=n(17079),v=n(18609),x=n(38328),b=n(74848);function N({active:e,title:t,subtitle:n,onClick:a}){return(0,b.jsxs)("button",{type:"button",onClick:a,className:["w-full rounded-lg border px-sm py-3 text-left","transition duration-normal ease-ease-out","hover:shadow-md hover:border-border","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background",e?"bg-primary text-primary-foreground border-primary shadow-md":"bg-card text-card-foreground border-border shadow-sm"].join(" "),children:[(0,b.jsx)("div",{className:"text-sm font-semibold",children:t}),(0,b.jsx)("div",{className:e?"text-xs opacity-90":"text-xs text-muted-foreground",children:n})]})}function S({value:e,onChange:t}){const{t:n}=(0,i.Bd)(),a=[{value:"DD.MM.YYYY",title:"DD.MM.YYYY",subtitle:n("accountSettings.preferences.dateFormatExample1","29.01.2026")},{value:"MM/DD/YYYY",title:"MM/DD/YYYY",subtitle:n("accountSettings.preferences.dateFormatExample2","01/29/2026")},{value:"YYYY-MM-DD",title:"YYYY-MM-DD",subtitle:n("accountSettings.preferences.dateFormatExample3","2026-01-29")}];return(0,b.jsx)(p.z,{label:n("accountSettings.preferences.dateFormat","Date format"),required:!0,hint:n("accountSettings.preferences.preview","Preview")+": 08.02.2026",children:(0,b.jsx)("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:a.map(n=>(0,b.jsx)(N,{active:e===n.value,title:n.title,subtitle:n.subtitle,onClick:()=>t(n.value)},n.value))})})}var j=n(38745);function y({value:e,options:t,onChange:n}){const{t:a}=(0,i.Bd)();return(0,b.jsx)(p.z,{label:a("accountSettings.preferences.timeZone","Time zone"),required:!0,children:(0,b.jsx)(j.l,{value:e,onChange:e=>n(e),options:t.map(e=>({value:e.value,label:e.label}))})})}function k({title:e,subtitle:t,timeZone:n,timeZoneOptions:a,dateFormat:r,onTimeZoneChange:o,onDateFormatChange:c,isSaving:l,error:d,saveDisabled:u,resetDisabled:m,onReset:p,onSave:h}){const{t:v}=(0,i.Bd)(),N=(0,s.useMemo)(()=>!(m&&u),[m,u]),j=(0,s.useMemo)(()=>d||(N?"":v("accountSettings.preferences.noChanges","No changes yet.")),[d,N,v]);return(0,b.jsxs)(f.Z,{className:"p-4",children:[(0,b.jsx)(x.X3,{title:e,subtitle:t}),(0,b.jsxs)("div",{className:"mt-4 space-y-4",children:[(0,b.jsx)(y,{value:n,options:a,onChange:o}),(0,b.jsx)(S,{value:r,onChange:c}),j?(0,b.jsx)("div",{className:d?"text-sm text-destructive":"text-sm text-muted-foreground",children:j}):null,(0,b.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,b.jsx)(g.$,{variant:"secondary",onClick:p,disabled:m||l,children:v("accountSettings.common.reset","Reset")}),(0,b.jsx)(g.$,{onClick:h,disabled:u||l,children:l?v("accountSettings.common.saving","Saving..."):v("accountSettings.common.save","Save")})]})]})]})}function M({title:e,children:t,className:n}){return(0,b.jsxs)(f.Z,{className:["p-4","flex flex-col",n??""].join(" "),children:[(0,b.jsx)("div",{className:"mb-3 text-sm font-semibold text-foreground",children:e}),(0,b.jsx)("div",{className:"flex-1",children:t})]})}function C(e){const{t}=(0,i.Bd)(),{email:n,firstName:a,lastName:s,canEditName:r,isNameSaving:o,nameError:c,saveNameDisabled:l,resetNameDisabled:d,onFirstNameChange:u,onLastNameChange:m,onSaveName:f,onResetName:N,timeZone:S,timeZoneOptions:j,dateFormat:y,isPreferencesSaving:C,preferencesError:A,savePreferencesDisabled:D,resetPreferencesDisabled:E,onTimeZoneChange:F,onDateFormatChange:Z,onSavePreferences:Y,onResetPreferences:P}=e;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)(x.X3,{title:t("accountSettings.profilePrefs.title","Profile & Preferences"),subtitle:t("accountSettings.profilePrefs.subtitle","Manage your account details and app settings")}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2 items-stretch",children:[(0,b.jsx)(M,{title:t("accountSettings.profile.title","Profile"),className:"h-full",children:(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(p.z,{label:t("accountSettings.profile.firstName","First name"),required:!0,children:(0,b.jsx)(h.p,{value:a,onChange:e=>u(e.target.value),disabled:!r,placeholder:t("accountSettings.common.placeholder","—")})}),(0,b.jsx)(p.z,{label:t("accountSettings.profile.lastName","Last name"),children:(0,b.jsx)(h.p,{value:s,onChange:e=>m(e.target.value),disabled:!r,placeholder:t("accountSettings.common.placeholder","—")})}),(0,b.jsx)(p.z,{label:t("accountSettings.profile.email","Email"),required:!0,children:(0,b.jsx)(h.p,{value:n,disabled:!0})}),(0,b.jsx)(p.z,{label:t("accountSettings.profile.appLanguage","App language"),hint:t("accountSettings.profile.appLanguageHint","Stored locally and synced to Firestore when signed in"),children:(0,b.jsx)(v.I,{})}),c?(0,b.jsx)("div",{className:"text-sm text-destructive",children:c}):null,(0,b.jsxs)("div",{className:"flex items-center gap-2 pt-2",children:[(0,b.jsx)(g.$,{variant:"secondary",onClick:N,disabled:d||o,children:t("accountSettings.common.reset","Reset")}),(0,b.jsx)(g.$,{onClick:f,disabled:l||o,children:o?t("accountSettings.common.saving","Saving..."):t("accountSettings.common.save","Save")})]})]})}),(0,b.jsx)(k,{title:t("accountSettings.preferences.title","Preferences"),subtitle:t("accountSettings.preferences.storage","Firestore"),timeZone:S,timeZoneOptions:j,dateFormat:y,onTimeZoneChange:F,onDateFormatChange:Z,isSaving:C,error:A,saveDisabled:D,resetDisabled:E,onReset:P,onSave:Y})]})]})}function A({uid:e,email:t,canEditName:n,isFetching:i,initial:r,tzOptions:u}){const[m,g]=(0,o._m)(),[f,p]=(0,s.useState)(r.firstName),[h,v]=(0,s.useState)(r.lastName),[x,N]=(0,s.useState)(r.timeZone),[S,j]=(0,s.useState)(r.dateFormat),y=function(e){if(!e)return null;if(c(e)){const t=l(e.message);if(t)return t;const n=l(e.message);if(n)return n;const a=function(e){const t=l(e.message);if(t)return t;const n=e.data;if(c(n)){const e=l(n.message);if(e)return e}const a=e.error,s=l(a);if(s)return s;if(c(a)){const e=l(a.message);if(e)return e}return null}(e);if(a)return a}return e instanceof Error?l(e.message):null}(g.error),k=i||g.isLoading,M=i||g.isLoading,A=x!==r.timeZone||S!==r.dateFormat,D=i||g.isLoading||!A,E=i||g.isLoading||!A;return(0,b.jsx)(C,{email:t,firstName:f,lastName:h,canEditName:n,isNameSaving:!1,nameError:null,saveNameDisabled:k,resetNameDisabled:M,onFirstNameChange:p,onLastNameChange:v,onSaveName:async()=>{if(!d.j.currentUser)return;const e=`${f} ${h}`.trim();await(0,a.r7)(d.j.currentUser,{displayName:e})},onResetName:()=>{p(r.firstName),v(r.lastName)},timeZone:x,timeZoneOptions:u,dateFormat:S,isPreferencesSaving:g.isLoading,preferencesError:y,savePreferencesDisabled:D,resetPreferencesDisabled:E,onTimeZoneChange:N,onDateFormatChange:j,onSavePreferences:async()=>{e&&await m({uid:e,patch:{timeZone:x,dateFormat:S}}).unwrap()},onResetPreferences:()=>{N(r.timeZone),j(r.dateFormat)}})}function D(){const{t:e}=(0,i.Bd)(),{user:t}=(0,r.gv)(),n=t?.uid??"",a=t?.email??"",{data:c,isFetching:l}=(0,o.Sp)({uid:n},{skip:!n}),d=c??o.cL,g=(0,s.useMemo)(()=>function(){const e=Intl,t=e.supportedValuesOf?.("timeZone");return Array.isArray(t)&&t.length>50?t:["Europe/Berlin","Europe/London","Europe/Paris","Europe/Warsaw","Europe/Kyiv","Europe/Istanbul","Europe/Moscow","America/New_York","America/Chicago","America/Denver","America/Los_Angeles","Asia/Dubai","Asia/Tbilisi","Asia/Yerevan","Asia/Almaty","Asia/Bangkok","Asia/Singapore","Asia/Tokyo"]}().map(e=>({value:e,label:e})),[]),f=(0,s.useMemo)(()=>function(e){const t=(e??"").trim().replace(/\s+/g," ");if(!t)return{firstName:"",lastName:""};const[n,...a]=t.split(" ");return{firstName:n,lastName:a.join(" ")}}(t?.displayName),[t?.displayName]),p=(0,s.useMemo)(()=>({firstName:f.firstName,lastName:f.lastName,timeZone:d.timeZone||(0,u.v)(),dateFormat:d.dateFormat}),[f.firstName,f.lastName,d.timeZone,d.dateFormat]),h=(0,s.useMemo)(()=>{const e=p.timeZone,a=p.dateFormat;return`${n||"anon"}|${t?.displayName??""}|${e}|${a}`},[n,t?.displayName,p.timeZone,p.dateFormat]);return(0,b.jsx)(m.t,{title:e("accountSettings.page.title","Account settings"),subtitle:e("accountSettings.sidebar.profile","Profile"),content:(0,b.jsx)(A,{uid:n,email:a,canEditName:!0,isFetching:l,initial:p,tzOptions:g},h)})}},92883(e,t,n){n.d(t,{t:()=>j});var a=n(96540),s=n(22022),i=n(95086),r=n(68701),o=n(9407);const c=(0,o.A)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),l=(0,o.A)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]);var d=n(8904);const u=(0,o.A)("shield-alert",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),m=(0,o.A)("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);var g=n(3433),f=n(3626),p=n(97234),h=n(38328),v=n(74848);function x(e){return["group flex items-center justify-between gap-2","rounded-md px-sm py-2","border border-transparent","transition duration-normal ease-in-out","focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background",e?"bg-muted text-foreground":"text-muted-foreground hover:bg-muted hover:text-foreground"].join(" ")}function b(e,t){return"danger"===t?e?"text-destructive":"text-destructive/80 group-hover:text-destructive":e?"text-foreground":"text-muted-foreground group-hover:text-foreground"}function N(){const{t:e}=(0,s.Bd)(),t=[{to:f.RU[f.Sb.SETTINGS_PROFILE],label:e("accountSettings.sidebar.profile","Profile"),icon:c},{to:f.RU[f.Sb.SETTINGS_NOTIFICATIONS],label:e("accountSettings.sidebar.notifications","Notifications"),icon:l},{to:f.RU[f.Sb.SETTINGS_PIPELINE_STATUSES],label:e("accountSettings.sidebar.pipelineStatuses","Pipeline / Statuses"),icon:d.A},{to:f.RU[f.Sb.SETTINGS_DANGER_ZONE],label:e("accountSettings.sidebar.dangerZone","Danger Zone"),icon:u,variant:"danger",hint:e("accountSettings.sidebar.sensitiveActions","Sensitive actions")}];return(0,v.jsxs)(p.Z,{className:"p-4",children:[(0,v.jsx)(h.X3,{title:e("accountSettings.sidebar.settings","Settings"),subtitle:e("accountSettings.sidebar.account","Account")}),(0,v.jsx)("div",{className:"mt-3 space-y-1",children:t.map(e=>(0,v.jsx)(g.k2,{to:e.to,children:({isActive:t})=>{const n=e.icon;return(0,v.jsxs)("div",{className:x(t),children:[(0,v.jsxs)("div",{className:"flex items-center gap-2",children:[(0,v.jsx)(n,{className:["h-4 w-4",b(t,e.variant)].join(" ")}),(0,v.jsxs)("div",{className:"min-w-0",children:[(0,v.jsx)("div",{className:"truncate text-sm font-medium",children:e.label}),e.hint?(0,v.jsx)("div",{className:"truncate text-xs text-muted-foreground",children:e.hint}):null]})]}),(0,v.jsx)(m,{className:"h-4 w-4 text-muted-foreground group-hover:text-foreground"})]})}},e.to))}),(0,v.jsx)("div",{className:"mt-4 border-t border-border pt-3 text-xs text-muted-foreground",children:e("accountSettings.sidebar.tip","Tip: use the menu to switch sections.")})]})}let S=!1;function j({title:e,subtitle:t,content:o}){const{t:c}=(0,s.Bd)();(0,a.useEffect)(()=>{!async function(){if(S)return;const[e,t,a]=await Promise.all([n.e(2253).then(n.t.bind(n,32253,19)),n.e(5175).then(n.t.bind(n,65175,19)),n.e(5369).then(n.t.bind(n,85369,19))]);(0,i.Z)("accountSettings",{en:e.default,ru:t.default,de:a.default,uk:{}}),S=!0}()},[]);const l=e??c("accountSettings.page.title","Account settings"),d=t??c("accountSettings.page.subtitle","Profile");return(0,v.jsxs)(r.qK,{className:"space-y-6",children:[(0,v.jsx)(r.zY,{title:l,subtitle:d}),(0,v.jsxs)("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-[320px_1fr]",children:[(0,v.jsx)(N,{}),(0,v.jsx)("div",{children:o})]})]})}}}]);
//# sourceMappingURL=9973.877a517d.chunk.js.map